# 面不过的面试小结

> 你永远不知道面试官问的下一题是什么。 -- Koy



>  其实很多是我觉得脑子里装上`Index`就够而不是需要去存全量`Database`的情况。



### 算法

话不多说，算法这个问题从心里上我的认同的，可是行动上我有点小拒绝的（LeetCode，算法4，剑指offer...都是从入门到入土系列），只能慢慢啃了...。

考算法这个怎么说呢，其实我觉得某种程度上是有必要的，如果是要内卷，只留下算法刷题大佬，那也没办法...。

……到现在特意去了解用过的大概只有`遗传算法`和动规的`编辑距离`了吧。

遇到的算法题有的用`Python`自带的库偶尔还能撸出来一个，有的就直接GG，甚至……还有算法的脑筋急转弯。



### `Java`基础

- 语言层面

  一般就是几个常考的比如`HashMap`源码，`juc`包的问题，但是要聊`泊松分布`和`红黑树`翻转那就自闭了。

  

  其中`Lock`相关的问题，就是` synchronized`和`Reetrantlock`的对比，锁膨胀与锁升级的问题。至于`AQS`的双向链表，`CAS`的`ABA`问题（乐观锁）和相关的`UnSafe`操作倒是鲜有问到，要是甚至问汇编就有点无语了。（关键字：可重入，`tryLock`，`MarkWord`和`Monitor`原语/机制)。

  

  然后就是线程的几个状态，线程池，并发容器和`ThreadLocal`问题，要逮着弱引用问，再看虚引用要不要也来点...这我也没辙。

  

  其他就是比如Integer的享元模式，`==`和`equals`这些`某乎`一片面经的常规问题，还有反射，双亲委派，类的加载过程这些，但是有时候就问的知道有这个东西，具体细节记得不清楚，甚至已经要到了想问一下能不能`google一下`的程度:dog:。

  

- 相关理论

  `happens-before`指令重排问题，volatile的基本原理和几个原子操作与总线通知，至于《`深入理解JVM虚拟机`》里面的比如内存屏障，内存可见性原则的问题倒是没有遇到。

  `GC`，一般就是`GC`回收策略的一些老问题。虽然一定程度上真的就是为了面试看的，但是不得不说`G1`的大佬就是不得了，如何想到全新的内存布局，是真的厉害，而后面的系列也是越来越秀。（关键字：`Stop-The-World`）

  

### Spring

- 基础层面

  `Bean`的初始化过程，生命周期。`IOC`,`AOP` 老几样，当然，只要是想问，在官网手册往后翻一翻，目前那肯定不会。

  

- 框架层面

  `SpringBoot`的加载过程，说实话，写了那么多`starter`，各种注解注入骚操作，看了也不少说明文章，还真没哪一篇在面试能完全背下来的。:dog:

  `Mybatis`，这个就是三级缓存，装载过程，执行过程，自定义拦截器这些东西。真的都跟着源码看过，可是之后脑子真只剩下那个巨大的`Configuration`而已。然后就是事务的问题，比如在同一个service里面因为动态代理的问题导致事务回滚不生效的问题。

  

- SpringCloud

  这个可就特么是真的动手搭建过Demo，也看过比如各种《SpringCloud微服务实战》之类（大麦网的例子）的书，还有各种技术博客之类的，但是被抓着某个组件（脑子里记得没那么清楚的）问详细配置和原理，那是真的招架不住。

  

### 数据库

- Mysql

  Mysql算是问的最火热的了，B+树，隔离级别，ACID问题，聚簇索引，最左匹配，看执行计划怎么优化一类的问题。

  但是是真……有很多都是一个看了忘记忘记了看的过程，因为也真不知道会被问什么。:dog:

  

  然后就是要纯手写一些SQL，可能有的考点还是看是不是知道一些新的函数，这一块自己还有欠缺，需要补一下，虽然也不知道下次会问哪个函数。



### 中间件

- Redis

  Redis问的一般就是数据类型，然后我就还知道个`布隆过滤器`（之前信号处理`MATLAB`好像还做过这玩意）；单线程（不严谨要看版本）多路复用，跳表，事务。话说`hash环/槽`好像还没被问过。

  之后就是`rdb`，`aof`，脑裂，主从，哨兵模式的一些问题，有的是真的很深，可能是顺道还需要一个裸手运维。

  

  业务上面：缓存穿透，缓存击穿，缓存雪崩，分布式锁`SetNX`.

  

- MQ/Kafka/ZK

  ……真就只是一个基本使用，虽说一些文档内容也看过，但是抓着哪个MQ问我也是招架不住。

  此外，顺道Kafka也放在这里吧。也搭建过集群，但是要问Kafka，我之前也看过还写过博文，……但是问上来要求的深度我还是太年轻了，看过相关的东西，然后脑子里只剩下知道零拷贝，顺序读写，消息压缩这些名词有用吗，……压根没用，还要实现原理和详细机制。

  

  ZK也是看过但是之后就知道几种不同的节点类型，`watcher`机制这样的名词，不顶用阿:dog:。

​      业务上面：分布式事务的`最终一致性`，TCC。



### 其他

- TCP/IP，七层（物数网传会表应）网络模型。要问详细的滑动窗口，拥塞控制，粘包这些，……我还是等着当初教我老师来砍我吧。

- Docker 目前没怎么被问过，`Dockerfile`的参数啥的也是好像没咋被问过。
- Linux 基本操作，……以后建站挂梯子各种问题看来不能面向搜索引擎了，不然面试默写不出来。
- 心有点累......



## 总结

没办法，硬着头皮上呗，万一人家不是凑`KPI`，真有`HC`，然后问的问题实际一点，或者又刚好运气好都会，没准就进去了呢。:dog:
